{"ast":null,"code":"var _class;\nimport { map, of } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./_services/product.service\";\nimport * as i2 from \"./image-processing.service\";\nexport class ProductResolveService {\n  constructor(productService, imageProcessingService) {\n    this.productService = productService;\n    this.imageProcessingService = imageProcessingService;\n  }\n  resolve(route, state) {\n    const idParam = route.paramMap.get(\"productId\");\n    const id = idParam ? parseInt(idParam, 10) : null;\n    if (id) {\n      return this.productService.getProductDetailById(id).pipe(map(p => this.imageProcessingService.createImages(p)));\n    } else {\n      return of(this.getProductDetails());\n    }\n  }\n  getProductDetails() {\n    return {\n      productId: 0,\n      productName: \"\",\n      productDescription: \"\",\n      productDiscountedPrice: 0,\n      productActualPrice: 0,\n      productCategory: 0,\n      productBrand: 0,\n      productImages: []\n    };\n  }\n}\n_class = ProductResolveService;\n_class.ɵfac = function ProductResolveService_Factory(t) {\n  return new (t || _class)(i0.ɵɵinject(i1.ProductService), i0.ɵɵinject(i2.ImageProcessingService));\n};\n_class.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: _class,\n  factory: _class.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"names":["map","of","ProductResolveService","constructor","productService","imageProcessingService","resolve","route","state","idParam","paramMap","get","id","parseInt","getProductDetailById","pipe","p","createImages","getProductDetails","productId","productName","productDescription","productDiscountedPrice","productActualPrice","productCategory","productBrand","productImages","i0","ɵɵinject","i1","ProductService","i2","ImageProcessingService","factory","ɵfac","providedIn"],"sources":["C:\\Users\\Owner\\E-CommercePRoject\\e-commerce-ui-master\\src\\app\\product-resolve.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, Resolve, RouterStateSnapshot } from '@angular/router';\nimport { Product } from './_model/product.model';\nimport { Observable, map, of } from 'rxjs';\nimport { ProductService } from './_services/product.service';\nimport { ImageProcessingService } from './image-processing.service';\nimport { Category } from './_model/category-modal';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProductResolveService implements Resolve<Product>{\n\n  category:Category | undefined;\n  constructor(private productService: ProductService,\n    private imageProcessingService: ImageProcessingService) { }\n\n  resolve(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ): Observable<Product> {\n    const idParam=route.paramMap.get(\"productId\");\n    const id = idParam ? parseInt(idParam, 10) : null;\n    if (id) {\n      return this.productService.getProductDetailById(id)\n        .pipe(\n          map(p =>this.imageProcessingService.createImages(p))\n        );\n    }\n    else {\n      return of(this.getProductDetails());\n    }\n  }\n\n  getProductDetails() {\n    return {\n      productId:0,\n      productName: \"\",\n      productDescription: \"\",\n      productDiscountedPrice: 0,\n      productActualPrice: 0,\n      productCategory:0,\n      productBrand:0,\n      productImages: []\n    };\n  }\n\n}\n"],"mappings":";AAGA,SAAqBA,GAAG,EAAEC,EAAE,QAAQ,MAAM;;;;AAQ1C,OAAM,MAAOC,qBAAqB;EAGhCC,YAAoBC,cAA8B,EACxCC,sBAA8C;IADpC,KAAAD,cAAc,GAAdA,cAAc;IACxB,KAAAC,sBAAsB,GAAtBA,sBAAsB;EAA4B;EAE5DC,OAAOA,CACLC,KAA6B,EAC7BC,KAA0B;IAE1B,MAAMC,OAAO,GAACF,KAAK,CAACG,QAAQ,CAACC,GAAG,CAAC,WAAW,CAAC;IAC7C,MAAMC,EAAE,GAAGH,OAAO,GAAGI,QAAQ,CAACJ,OAAO,EAAE,EAAE,CAAC,GAAG,IAAI;IACjD,IAAIG,EAAE,EAAE;MACN,OAAO,IAAI,CAACR,cAAc,CAACU,oBAAoB,CAACF,EAAE,CAAC,CAChDG,IAAI,CACHf,GAAG,CAACgB,CAAC,IAAG,IAAI,CAACX,sBAAsB,CAACY,YAAY,CAACD,CAAC,CAAC,CAAC,CACrD;KACJ,MACI;MACH,OAAOf,EAAE,CAAC,IAAI,CAACiB,iBAAiB,EAAE,CAAC;;EAEvC;EAEAA,iBAAiBA,CAAA;IACf,OAAO;MACLC,SAAS,EAAC,CAAC;MACXC,WAAW,EAAE,EAAE;MACfC,kBAAkB,EAAE,EAAE;MACtBC,sBAAsB,EAAE,CAAC;MACzBC,kBAAkB,EAAE,CAAC;MACrBC,eAAe,EAAC,CAAC;MACjBC,YAAY,EAAC,CAAC;MACdC,aAAa,EAAE;KAChB;EACH;;SAlCWxB,qBAAqB;;mBAArBA,MAAqB,EAAAyB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,cAAA,GAAAH,EAAA,CAAAC,QAAA,CAAAG,EAAA,CAAAC,sBAAA;AAAA;;SAArB9B,MAAqB;EAAA+B,OAAA,EAArB/B,MAAqB,CAAAgC,IAAA;EAAAC,UAAA,EAFpB;AAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}