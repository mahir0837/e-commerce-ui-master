{"ast":null,"code":"var _class;\nimport { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/platform-browser\";\nexport class DragDirective {\n  constructor(sanitizer) {\n    this.sanitizer = sanitizer;\n    this.files = new EventEmitter();\n    this.backround = \"#eee\";\n  }\n  onDragOver(evt) {\n    evt.preventDefault();\n    evt.stopPropagation();\n    this.backround = \"#999\";\n  }\n  onDragLeave(evt) {\n    evt.preventDefault();\n    evt.stopPropagation();\n    this.backround = \"#eee\";\n  }\n  onDrop(evt) {\n    evt.preventDefault();\n    evt.stopPropagation();\n    this.backround = \"#eee\";\n    let fileHandle;\n    if (evt.dataTransfer !== null) {\n      const file = evt.dataTransfer.files[0];\n      const url = this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(file));\n      const fileHandle = {\n        file,\n        url\n      };\n      this.files.emit(fileHandle);\n    }\n  }\n}\n_class = DragDirective;\n_class.ɵfac = function DragDirective_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.DomSanitizer));\n};\n_class.ɵdir = /*@__PURE__*/i0.ɵɵdefineDirective({\n  type: _class,\n  selectors: [[\"\", \"appDrag\", \"\"]],\n  hostVars: 2,\n  hostBindings: function DragDirective_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"dragover\", function DragDirective_dragover_HostBindingHandler($event) {\n        return ctx.onDragOver($event);\n      })(\"dragleave\", function DragDirective_dragleave_HostBindingHandler($event) {\n        return ctx.onDragLeave($event);\n      })(\"drop\", function DragDirective_drop_HostBindingHandler($event) {\n        return ctx.onDrop($event);\n      });\n    }\n    if (rf & 2) {\n      i0.ɵɵstyleProp(\"backround\", ctx.backround);\n    }\n  },\n  outputs: {\n    files: \"files\"\n  }\n});","map":{"version":3,"names":["EventEmitter","DragDirective","constructor","sanitizer","files","backround","onDragOver","evt","preventDefault","stopPropagation","onDragLeave","onDrop","fileHandle","dataTransfer","file","url","bypassSecurityTrustUrl","window","URL","createObjectURL","emit","i0","ɵɵdirectiveInject","i1","DomSanitizer","selectors","hostVars","hostBindings","DragDirective_HostBindings","rf","ctx","$event","DragDirective_dragleave_HostBindingHandler","DragDirective_drop_HostBindingHandler"],"sources":["C:\\Users\\Owner\\E-CommercePRoject\\e-commerce-ui-master\\src\\app\\drag.directive.ts"],"sourcesContent":["import { Directive, EventEmitter, HostBinding, HostListener, Output } from '@angular/core';\nimport { FileHandle } from './_model/file-handle.model';\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\n\n@Directive({\n  selector: '[appDrag]'\n})\nexport class DragDirective {\n\n  @Output()files:EventEmitter<FileHandle>=new EventEmitter();\n  @HostBinding(\"style.backround\")private backround=\"#eee\";\n\n  constructor(private sanitizer: DomSanitizer) { }\n\n  @HostListener(\"dragover\", [\"$event\"])\n  public onDragOver(evt: DragEvent) {\n    evt.preventDefault();\n    evt.stopPropagation();\n    this.backround=\"#999\";\n  }\n  @HostListener(\"dragleave\",[\"$event\"])\n  public onDragLeave(evt:DragEvent){\n    evt.preventDefault();\n    evt.stopPropagation();\n    this.backround=\"#eee\";\n  }\n  @HostListener(\"drop\",[\"$event\"])\n  public onDrop(evt: DragEvent){\n    evt.preventDefault();\n    evt.stopPropagation();\n    this.backround=\"#eee\";\n\n    let fileHandle:FileHandle;\n\n    if (evt.dataTransfer!==null) {\n      const file = evt.dataTransfer.files[0];\n      const url: SafeUrl = this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(file));\n      const fileHandle: FileHandle = { file, url };\n      this.files.emit(fileHandle);\n    }\n\n  }\n\n\n}\n"],"mappings":";AAAA,SAAoBA,YAAY,QAA2C,eAAe;;;AAO1F,OAAM,MAAOC,aAAa;EAKxBC,YAAoBC,SAAuB;IAAvB,KAAAA,SAAS,GAATA,SAAS;IAHpB,KAAAC,KAAK,GAA0B,IAAIJ,YAAY,EAAE;IACnB,KAAAK,SAAS,GAAC,MAAM;EAER;EAGxCC,UAAUA,CAACC,GAAc;IAC9BA,GAAG,CAACC,cAAc,EAAE;IACpBD,GAAG,CAACE,eAAe,EAAE;IACrB,IAAI,CAACJ,SAAS,GAAC,MAAM;EACvB;EAEOK,WAAWA,CAACH,GAAa;IAC9BA,GAAG,CAACC,cAAc,EAAE;IACpBD,GAAG,CAACE,eAAe,EAAE;IACrB,IAAI,CAACJ,SAAS,GAAC,MAAM;EACvB;EAEOM,MAAMA,CAACJ,GAAc;IAC1BA,GAAG,CAACC,cAAc,EAAE;IACpBD,GAAG,CAACE,eAAe,EAAE;IACrB,IAAI,CAACJ,SAAS,GAAC,MAAM;IAErB,IAAIO,UAAqB;IAEzB,IAAIL,GAAG,CAACM,YAAY,KAAG,IAAI,EAAE;MAC3B,MAAMC,IAAI,GAAGP,GAAG,CAACM,YAAY,CAACT,KAAK,CAAC,CAAC,CAAC;MACtC,MAAMW,GAAG,GAAY,IAAI,CAACZ,SAAS,CAACa,sBAAsB,CAACC,MAAM,CAACC,GAAG,CAACC,eAAe,CAACL,IAAI,CAAC,CAAC;MAC5F,MAAMF,UAAU,GAAe;QAAEE,IAAI;QAAEC;MAAG,CAAE;MAC5C,IAAI,CAACX,KAAK,CAACgB,IAAI,CAACR,UAAU,CAAC;;EAG/B;;SAlCWX,aAAa;;mBAAbA,MAAa,EAAAoB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,YAAA;AAAA;;QAAbvB,MAAa;EAAAwB,SAAA;EAAAC,QAAA;EAAAC,YAAA,WAAAC,2BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;;eAAbC,GAAA,CAAAxB,UAAA,CAAAyB,MAAA,CAEZ;MAAA,yBAAAC,2CAAAD,MAAA;QAAA,OAFYD,GAAA,CAAApB,WAAA,CAAAqB,MAAA,CAEX;MAAA,oBAAAE,sCAAAF,MAAA;QAAA,OAFWD,GAAA,CAAAnB,MAAA,CAAAoB,MAAA,CAAc;MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}