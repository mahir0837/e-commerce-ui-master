{"ast":null,"code":"var _class;\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../_services/product.service\";\nimport * as i2 from \"@angular/platform-browser\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../_services/brand.service\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/grid-list\";\nimport * as i8 from \"../drag.directive\";\nfunction AddNewProductComponent_option_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 43);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r8 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", item_r8.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", item_r8.categoryName, \" \");\n  }\n}\nfunction AddNewProductComponent_option_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 43);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r9 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", item_r9.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", item_r9.brandName, \" \");\n  }\n}\nfunction AddNewProductComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1, \" *Please fill in your product name. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewProductComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1, \" *Please fill in your product description. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewProductComponent_div_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1, \" *Please fill in your product actual price. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewProductComponent_div_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1, \" *Please fill in your product actual price. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewProductComponent_mat_grid_tile_80_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-grid-tile\")(1, \"div\", 45)(2, \"span\", 46);\n    i0.ɵɵlistener(\"click\", function AddNewProductComponent_mat_grid_tile_80_Template_span_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const i_r11 = restoredCtx.index;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.removeImages(i_r11));\n    });\n    i0.ɵɵtext(3, \"x\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"img\", 47);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const file_r10 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"src\", file_r10.url, i0.ɵɵsanitizeUrl);\n  }\n}\nexport class AddNewProductComponent {\n  ngOnInit() {\n    this.productForm = this.fb.group({\n      productName: ['', Validators.required],\n      productDescription: ['', Validators.required],\n      productDiscountedPrice: [null, Validators.required],\n      productActualPrice: [null, Validators.required]\n    });\n    this.onCategorySelected(this.selectedOption);\n    this.getAllCategory();\n    this.getAllBrand();\n    this.product = this.activatedRoute.snapshot.data['product'];\n    if (this.product && this.product.productId) {\n      this.isNewProduct = false;\n    }\n  }\n  constructor(productService, sanitizer, activatedRoute, fb, brandService) {\n    this.productService = productService;\n    this.sanitizer = sanitizer;\n    this.activatedRoute = activatedRoute;\n    this.fb = fb;\n    this.brandService = brandService;\n    this.selectedBrand = 1;\n    this.selectedOption = 1;\n    this.categoryArr = [];\n    this.brandArr = [];\n    this.isNewProduct = true;\n    this.product = {\n      productId: 0,\n      productName: '',\n      productDescription: '',\n      productDiscountedPrice: 0,\n      productActualPrice: 0,\n      productCategory: 0,\n      productBrand: 0,\n      productImages: []\n    };\n  }\n  addProduct() {\n    this.product.productCategory = this.selectedOption;\n    this.product.productBrand = this.selectedBrand;\n    this.product.productName = this.productForm.value.productName;\n    this.product.productDescription = this.productForm.value.productDescription;\n    this.product.productActualPrice = this.productForm.value.productActualPrice;\n    this.product.productDiscountedPrice = this.productForm.value.productDiscountedPrice;\n    console.log(this.selectedBrand);\n    const productFormData = this.prepareFormData(this.product);\n    if (this.productForm.valid) {\n      this.productService.addProduct(productFormData).subscribe(response => {\n        this.productForm.reset();\n        this.product.productImages = [];\n        console.log('Product added successfully:', response);\n      }, error => {\n        console.log(error);\n      });\n    } else {\n      this.validateAllFormFields(this.productForm);\n      alert('Your Form is invalid');\n    }\n  }\n  validateAllFormFields(formGroup) {\n    Object.keys(formGroup.controls).forEach(f => {\n      const control = formGroup.get(f);\n      if (control instanceof FormControl) {\n        control.markAsDirty({\n          onlySelf: true\n        });\n      } else if (control instanceof FormGroup) {\n        this.validateAllFormFields(control);\n      }\n    });\n  }\n  prepareFormData(product) {\n    const formData = new FormData();\n    formData.append('product', new Blob([JSON.stringify(product)], {\n      type: 'application/json'\n    }));\n    for (let i = 0; i < product.productImages.length; i++) {\n      formData.append('imageFile', product.productImages[i].file, product.productImages[i].file.name);\n    }\n    formData.append('productCategory', new Blob([JSON.stringify(this.selectedOption)], {\n      type: 'application/json'\n    }));\n    return formData;\n  }\n  onFileSelected(event) {\n    if (event.target.files) {\n      const file = event.target.files[0];\n      const fileHandle = {\n        file: file,\n        url: this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(file))\n      };\n      this.product.productImages.push(fileHandle);\n    }\n  }\n  removeImages(i) {\n    this.product.productImages.splice(i, 1);\n  }\n  fileDropped(fileHandle) {\n    this.product.productImages.push(fileHandle);\n  }\n  getAllCategory() {\n    this.productService.getAllCategories().subscribe(resp => {\n      console.log(resp);\n      for (let i = 0; i < resp.length; i++) {\n        this.categoryArr[i] = resp[i];\n      }\n    }, err => {\n      console.log(err);\n    });\n  }\n  onCategorySelected(selectedOption) {\n    this.selectedOption = selectedOption;\n    this.brandService.categoryId.next(this.selectedOption);\n    this.getAllBrand();\n  }\n  getAllBrand() {\n    this.brandService.getAllBrand().subscribe(resp => {\n      this.brandArr = resp;\n    });\n  }\n  onBrandSelected(selectedBrand) {\n    this.selectedBrand = selectedBrand;\n  }\n}\n_class = AddNewProductComponent;\n_class.ɵfac = function AddNewProductComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.DomSanitizer), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.FormBuilder), i0.ɵɵdirectiveInject(i5.BrandService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-add-new-product\"]],\n  decls: 81,\n  vars: 10,\n  consts: [[1, \"container\", \"mt-5\"], [1, \"card\", \"p-2\", 2, \"background-color\", \"skyblue\"], [1, \"row\"], [1, \"col-6\"], [1, \"pt-2\", \"px-4\", \"ps-lg-0\", \"pe-xl-5\"], [1, \"d-sm-flex\", \"flex-wrap\", \"justify-content-between\", \"align-items-center\", \"pb-2\"], [1, \"h3\", \"py-2\", \"me-2\", \"text-center\", \"text-sm-start\"], [1, \"py-2\"], [\"id\", \"unp-category\", 1, \"form-select\", \"me-2\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"formGroup\"], [1, \"mb-3\", \"pb-2\"], [\"for\", \"unp-product-name\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"unp-product-name\", \"formControlName\", \"productName\", \"name\", \"productName\", 1, \"form-control\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [1, \"mb-3\", \"py-2\"], [\"for\", \"unp-product-description\", 1, \"form-label\"], [\"formControlName\", \"productDescription\", \"name\", \"productDescription\", \"rows\", \"6\", \"id\", \"unp-product-description\", 1, \"form-control\"], [1, \"bg-secondary\", \"p-3\", \"fs-ms\", \"rounded-bottom\"], [1, \"d-inline-block\", \"fw-medium\", \"me-2\", \"my-1\"], [1, \"d-inline-block\", \"border-end\", \"pe-2\", \"me-2\", \"my-1\"], [1, \"d-inline-block\"], [1, \"col-sm-6\", \"mb-3\"], [\"for\", \"unp-standard-price\", 1, \"form-label\"], [1, \"input-group\"], [1, \"input-group-text\"], [1, \"ci-dollar\"], [\"formControlName\", \"productActualPrice\", \"name\", \"productActualPrice\", \"type\", \"text\", \"id\", \"unp-standard-price\", 1, \"form-control\"], [1, \"form-text\"], [\"for\", \"unp-extended-price\", 1, \"form-label\"], [\"formControlName\", \"productDiscountedPrice\", \"name\", \"productDiscountedPrice\", \"type\", \"text\", \"id\", \"unp-extended-price\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"d-block\", \"w-100\", 3, \"click\"], [1, \"ci-cloud-upload\", \"fs-lg\", \"me-2\"], [1, \"col-6\", \"mb-3\", \"pt-\"], [\"appDrag\", \"\", 1, \"dropzone\", 3, \"files\"], [1, \"text-wrapper\"], [1, \"centered\"], [1, \"browse-button\", 3, \"click\"], [\"type\", \"file\", \"multiple\", \"\", \"value\", \"select\", \"value\", \"select\", 2, \"display\", \"none\", 3, \"change\"], [\"selectFile\", \"\"], [1, \"mt-5\"], [\"cols\", \"2\", \"rowHeight\", \"1:1\"], [4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [1, \"text-danger\"], [2, \"position\", \"relative\"], [1, \"btn-remove-image\", 3, \"click\"], [\"width\", \"100px\", \"height\", \"100px\", 3, \"src\"]],\n  template: function AddNewProductComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r14 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"h2\", 6);\n      i0.ɵɵtext(7, \" Add New Product \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 7)(9, \"select\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function AddNewProductComponent_Template_select_ngModelChange_9_listener($event) {\n        return ctx.selectedOption = $event;\n      })(\"change\", function AddNewProductComponent_Template_select_change_9_listener() {\n        return ctx.onCategorySelected(ctx.selectedOption);\n      });\n      i0.ɵɵelementStart(10, \"option\");\n      i0.ɵɵtext(11, \"Select category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(12, AddNewProductComponent_option_12_Template, 2, 2, \"option\", 9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"div\", 7)(14, \"select\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function AddNewProductComponent_Template_select_ngModelChange_14_listener($event) {\n        return ctx.selectedBrand = $event;\n      })(\"change\", function AddNewProductComponent_Template_select_change_14_listener() {\n        return ctx.onBrandSelected(ctx.selectedBrand);\n      });\n      i0.ɵɵelementStart(15, \"option\");\n      i0.ɵɵtext(16, \"Select Brand\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(17, AddNewProductComponent_option_17_Template, 2, 2, \"option\", 9);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(18, \"form\", 10)(19, \"div\", 11)(20, \"label\", 12);\n      i0.ɵɵtext(21, \"Product name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(22, \"input\", 13);\n      i0.ɵɵtemplate(23, AddNewProductComponent_div_23_Template, 2, 0, \"div\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"div\", 15)(25, \"label\", 16);\n      i0.ɵɵtext(26, \"Product description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(27, \"textarea\", 17);\n      i0.ɵɵtemplate(28, AddNewProductComponent_div_28_Template, 2, 0, \"div\", 14);\n      i0.ɵɵelementStart(29, \"div\", 18)(30, \"span\", 19);\n      i0.ɵɵtext(31, \"Markdown supported:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"em\", 20);\n      i0.ɵɵtext(33, \"*Italic*\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"strong\", 20);\n      i0.ɵɵtext(35, \"**Bold**\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"span\", 20);\n      i0.ɵɵtext(37, \"- List item\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"span\", 20);\n      i0.ɵɵtext(39, \"##Heading##\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"span\", 21);\n      i0.ɵɵtext(41, \"--- Horizontal rule\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(42, \"div\", 2)(43, \"div\", 22)(44, \"label\", 23);\n      i0.ɵɵtext(45, \"Product Actual Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"div\", 24)(47, \"span\", 25);\n      i0.ɵɵelement(48, \"i\", 26);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(49, \"input\", 27);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(50, AddNewProductComponent_div_50_Template, 2, 0, \"div\", 14);\n      i0.ɵɵelementStart(51, \"div\", 28);\n      i0.ɵɵtext(52, \" Average marketplace price for this category is $15. \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(53, \"div\", 22)(54, \"label\", 29);\n      i0.ɵɵtext(55, \"Product Discounted Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(56, \"div\", 24)(57, \"span\", 25);\n      i0.ɵɵelement(58, \"i\", 26);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(59, \"input\", 30);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(60, AddNewProductComponent_div_60_Template, 2, 0, \"div\", 14);\n      i0.ɵɵelementStart(61, \"div\", 28);\n      i0.ɵɵtext(62, \" Typically 10x of the Standard license price. \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(63, \"button\", 31);\n      i0.ɵɵlistener(\"click\", function AddNewProductComponent_Template_button_click_63_listener() {\n        return ctx.addProduct();\n      });\n      i0.ɵɵelement(64, \"i\", 32);\n      i0.ɵɵtext(65, \"Upload Product \");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(66, \"div\", 33)(67, \"div\")(68, \"div\", 34);\n      i0.ɵɵlistener(\"files\", function AddNewProductComponent_Template_div_files_68_listener($event) {\n        return ctx.fileDropped($event);\n      });\n      i0.ɵɵelementStart(69, \"div\", 35)(70, \"div\", 36);\n      i0.ɵɵtext(71, \" Drag and drop your file or \");\n      i0.ɵɵelementStart(72, \"a\", 37);\n      i0.ɵɵlistener(\"click\", function AddNewProductComponent_Template_a_click_72_listener() {\n        i0.ɵɵrestoreView(_r14);\n        const _r6 = i0.ɵɵreference(76);\n        return i0.ɵɵresetView(_r6.click());\n      });\n      i0.ɵɵtext(73, \"browse\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(74, \" a file. \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(75, \"input\", 38, 39);\n      i0.ɵɵlistener(\"change\", function AddNewProductComponent_Template_input_change_75_listener($event) {\n        return ctx.onFileSelected($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(77, \"div\", 40)(78, \"div\", 2)(79, \"mat-grid-list\", 41);\n      i0.ɵɵtemplate(80, AddNewProductComponent_mat_grid_tile_80_Template, 5, 1, \"mat-grid-tile\", 42);\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedOption);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.categoryArr);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedBrand);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.brandArr);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.productForm);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.productForm.controls[\"productName\"].dirty && ctx.productForm.hasError(\"required\", \"productName\"));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.productForm.controls[\"productDescription\"].dirty && ctx.productForm.hasError(\"required\", \"productDescription\"));\n      i0.ɵɵadvance(22);\n      i0.ɵɵproperty(\"ngIf\", ctx.productForm.controls[\"productActualPrice\"].dirty && ctx.productForm.hasError(\"required\", \"productActualPrice\"));\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngIf\", ctx.productForm.controls[\"productDiscountedPrice\"].dirty && ctx.productForm.hasError(\"required\", \"productDiscountedPrice\"));\n      i0.ɵɵadvance(20);\n      i0.ɵɵproperty(\"ngForOf\", ctx.product.productImages);\n    }\n  },\n  dependencies: [i6.NgForOf, i6.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i7.MatGridList, i7.MatGridTile, i4.FormGroupDirective, i4.FormControlName, i8.DragDirective],\n  styles: [\"mat-grid-tile[_ngcontent-%COMP%] {\\n  border: 1x solid #eee;\\n}\\n\\n.btn-remove-image[_ngcontent-%COMP%] {\\n  position: absolute;\\n  cursor: pointer;\\n  top: -10px;\\n  right: -10px;\\n  background-color: red;\\n  color: white;\\n  border-radius: 50%;\\n  width: 20px;\\n  height: auto;\\n  text-align: center;\\n}\\n\\n.dropzone[_ngcontent-%COMP%] {\\n  height: 300px;\\n  min-width: 100px;\\n  display: table;\\n  background-color: #eee;\\n  width: 500px;\\n  border: dashed 1px #aaa;\\n  border-radius: 10px;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n\\n.text-wrapper[_ngcontent-%COMP%] {\\n  display: table-cell;\\n  vertical-align: middle;\\n}\\n\\n.centered[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\n.browse-button[_ngcontent-%COMP%] {\\n  color: blue;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWRkLW5ldy1wcm9kdWN0L2FkZC1uZXctcHJvZHVjdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHFCQUFBO0FBQ0o7O0FBQ0E7RUFDSSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxVQUFBO0VBQ0EsWUFBQTtFQUNBLHFCQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQUVKOztBQUFBO0VBQ0ksYUFBQTtFQUNBLGdCQUFBO0VBQ0EsY0FBQTtFQUNBLHNCQUFBO0VBQ0EsWUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0FBR0o7O0FBREE7RUFDSSxtQkFBQTtFQUNBLHNCQUFBO0FBSUo7O0FBRkE7RUFDSSxrQkFBQTtBQUtKOztBQUhBO0VBQ0ksV0FBQTtBQU1KIiwic291cmNlc0NvbnRlbnQiOlsibWF0LWdyaWQtdGlsZXtcbiAgICBib3JkZXI6IDF4IHNvbGlkICNlZWU7XG59XG4uYnRuLXJlbW92ZS1pbWFnZXtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRvcDogLTEwcHg7XG4gICAgcmlnaHQ6IC0xMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJlZDtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgIHdpZHRoOiAyMHB4O1xuICAgIGhlaWdodDogYXV0bztcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4uZHJvcHpvbmV7XG4gICAgaGVpZ2h0OiAzMDBweDtcbiAgICBtaW4td2lkdGg6IDEwMHB4O1xuICAgIGRpc3BsYXk6IHRhYmxlO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNlZWU7XG4gICAgd2lkdGg6IDUwMHB4O1xuICAgIGJvcmRlcjogZGFzaGVkIDFweCAjYWFhO1xuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xufVxuLnRleHQtd3JhcHBlcntcbiAgICBkaXNwbGF5OiB0YWJsZS1jZWxsO1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG59XG4uY2VudGVyZWR7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuLmJyb3dzZS1idXR0b257XG4gICAgY29sb3I6IGJsdWU7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["FormControl","FormGroup","Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","item_r8","id","ɵɵadvance","ɵɵtextInterpolate1","categoryName","item_r9","brandName","ɵɵlistener","AddNewProductComponent_mat_grid_tile_80_Template_span_click_2_listener","restoredCtx","ɵɵrestoreView","_r13","i_r11","index","ctx_r12","ɵɵnextContext","ɵɵresetView","removeImages","ɵɵelement","file_r10","url","ɵɵsanitizeUrl","AddNewProductComponent","ngOnInit","productForm","fb","group","productName","required","productDescription","productDiscountedPrice","productActualPrice","onCategorySelected","selectedOption","getAllCategory","getAllBrand","product","activatedRoute","snapshot","data","productId","isNewProduct","constructor","productService","sanitizer","brandService","selectedBrand","categoryArr","brandArr","productCategory","productBrand","productImages","addProduct","value","console","log","productFormData","prepareFormData","valid","subscribe","response","reset","error","validateAllFormFields","alert","formGroup","Object","keys","controls","forEach","f","control","get","markAsDirty","onlySelf","formData","FormData","append","Blob","JSON","stringify","type","i","length","file","name","onFileSelected","event","target","files","fileHandle","bypassSecurityTrustUrl","window","URL","createObjectURL","push","splice","fileDropped","getAllCategories","resp","err","categoryId","next","onBrandSelected","ɵɵdirectiveInject","i1","ProductService","i2","DomSanitizer","i3","ActivatedRoute","i4","FormBuilder","i5","BrandService","selectors","decls","vars","consts","template","AddNewProductComponent_Template","rf","ctx","AddNewProductComponent_Template_select_ngModelChange_9_listener","$event","AddNewProductComponent_Template_select_change_9_listener","ɵɵtemplate","AddNewProductComponent_option_12_Template","AddNewProductComponent_Template_select_ngModelChange_14_listener","AddNewProductComponent_Template_select_change_14_listener","AddNewProductComponent_option_17_Template","AddNewProductComponent_div_23_Template","AddNewProductComponent_div_28_Template","AddNewProductComponent_div_50_Template","AddNewProductComponent_div_60_Template","AddNewProductComponent_Template_button_click_63_listener","AddNewProductComponent_Template_div_files_68_listener","AddNewProductComponent_Template_a_click_72_listener","_r14","_r6","ɵɵreference","click","AddNewProductComponent_Template_input_change_75_listener","AddNewProductComponent_mat_grid_tile_80_Template","dirty","hasError"],"sources":["C:\\Users\\Owner\\E-CommercePRoject\\e-commerce-ui-master\\src\\app\\add-new-product\\add-new-product.component.ts","C:\\Users\\Owner\\E-CommercePRoject\\e-commerce-ui-master\\src\\app\\add-new-product\\add-new-product.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Product } from '../_model/product.model';\nimport {\n  FormBuilder,\n  FormControl,\n  FormGroup,\n  NgForm,\n  Validators,\n} from '@angular/forms';\nimport { ProductService } from '../_services/product.service';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { FileHandle } from '../_model/file-handle.model';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ActivatedRoute } from '@angular/router';\nimport { Category } from '../_model/category-modal';\nimport { BrandService } from '../_services/brand.service';\nimport { Brand } from '../_model/brand-modal';\n\n@Component({\n  selector: 'app-add-new-product',\n  templateUrl: './add-new-product.component.html',\n  styleUrls: ['./add-new-product.component.scss'],\n})\nexport class AddNewProductComponent implements OnInit {\n  selectedBrand = 1;\n  selectedOption: number = 1;\n  categoryArr: Category[] = [];\n  brandArr: Brand[] = [];\n  isNewProduct = true;\n  productForm!: FormGroup;\n  product: Product = {\n    productId: 0,\n    productName: '',\n    productDescription: '',\n    productDiscountedPrice: 0,\n    productActualPrice: 0,\n    productCategory: 0,\n    productBrand: 0,\n    productImages: [],\n  };\n\n  ngOnInit(): void {\n    this.productForm = this.fb.group({\n      productName: ['', Validators.required],\n      productDescription: ['', Validators.required],\n      productDiscountedPrice: [null, Validators.required],\n      productActualPrice: [null, Validators.required],\n      \n    });\n    this.onCategorySelected(this.selectedOption);\n    this.getAllCategory();\n    this.getAllBrand();\n    this.product = this.activatedRoute.snapshot.data['product'];\n    if (this.product && this.product.productId) {\n      this.isNewProduct = false;\n    }\n  }\n\n  constructor(\n    private productService: ProductService,\n    private sanitizer: DomSanitizer,\n    private activatedRoute: ActivatedRoute,\n    private fb: FormBuilder,\n    private brandService: BrandService\n  ) {}\n\n  addProduct() {\n    this.product.productCategory = this.selectedOption;\n    this.product.productBrand = this.selectedBrand;\n    this.product.productName = this.productForm.value.productName;\n    this.product.productDescription =this.productForm.value.productDescription;\n    this.product.productActualPrice = this.productForm.value.productActualPrice;\n    this.product.productDiscountedPrice =\n    this.productForm.value.productDiscountedPrice;\n    console.log(this.selectedBrand);\n    const productFormData = this.prepareFormData(this.product);\n    if (this.productForm.valid) {\n      this.productService.addProduct(productFormData).subscribe(\n        (response: Product) => {\n        \n          \n          this.productForm.reset();\n          this.product.productImages = [];\n          console.log('Product added successfully:', response);\n        },\n        (error: HttpErrorResponse) => {\n          console.log(error);\n        }\n      );\n    } else {\n      this.validateAllFormFields(this.productForm);\n      alert('Your Form is invalid');\n    }\n  }\n  private validateAllFormFields(formGroup: FormGroup) {\n    Object.keys(formGroup.controls).forEach((f) => {\n      const control = formGroup.get(f);\n      if (control instanceof FormControl) {\n        control.markAsDirty({ onlySelf: true });\n      } else if (control instanceof FormGroup) {\n        this.validateAllFormFields(control);\n      }\n    });\n  }\n\n  prepareFormData(product: Product): FormData {\n    const formData = new FormData();\n\n    formData.append(\n      'product',\n      new Blob([JSON.stringify(product)], { type: 'application/json' })\n    );\n    for (let i = 0; i < product.productImages.length; i++) {\n      formData.append(\n        'imageFile',\n        product.productImages[i].file,\n        product.productImages[i].file.name\n      );\n    }\n    formData.append(\n      'productCategory',\n      new Blob([JSON.stringify(this.selectedOption)], {\n        type: 'application/json',\n      })\n    );\n    return formData;\n  }\n  onFileSelected(event: any) {\n    if (event.target.files) {\n      const file = event.target.files[0];\n\n      const fileHandle: FileHandle = {\n        file: file,\n        url: this.sanitizer.bypassSecurityTrustUrl(\n          window.URL.createObjectURL(file)\n        ),\n      };\n      this.product.productImages.push(fileHandle);\n    }\n  }\n\n  removeImages(i: number) {\n    this.product.productImages.splice(i, 1);\n  }\n  fileDropped(fileHandle: FileHandle) {\n    this.product.productImages.push(fileHandle);\n  }\n  getAllCategory() {\n    this.productService.getAllCategories().subscribe(\n      (resp) => {\n        console.log(resp);\n        for (let i = 0; i < resp.length; i++) {\n          this.categoryArr[i] = resp[i];\n        }\n      },\n      (err) => {\n        console.log(err);\n      }\n    );\n  }\n  onCategorySelected(selectedOption: number): any {\n    this.selectedOption = selectedOption;\n    this.brandService.categoryId.next(this.selectedOption);\n    this.getAllBrand();\n  }\n  getAllBrand() {\n    this.brandService.getAllBrand().subscribe((resp) => {\n      this.brandArr = resp;\n    });\n  }\n  onBrandSelected(selectedBrand: number) {\n    this.selectedBrand= selectedBrand;\n  }\n}\n","<!-- <div class=\"container mt-5\">\n    <div class=\"card p-2\">\n\n        <div class=\"row\">\n            <div class=\"col-6\">\n                <form #productForm=\"ngForm\" (ngSubmit)=\"addProduct(productForm)\">\n\n                    <mat-form-field appearance=\"outline\" class=\"w-100\">\n                        <mat-label>Product Name</mat-label>\n                        <input matInput placeholder=\"Product Name\" [(ngModel)]=\"product.productName\" name=\"productName\">\n                    </mat-form-field>\n                    <mat-form-field appearance=\"outline\" class=\"w-100\">\n                        <mat-label>Product Description</mat-label>\n                        <input matInput placeholder=\"Product Description\" [(ngModel)]=\"product.productDescription\"\n                            name=\"productDescription\">\n                    </mat-form-field>\n                    <mat-form-field appearance=\"outline\" class=\"w-100\">\n                        <mat-label>Product Actual Price</mat-label>\n                        <input matInput placeholder=\"Product Actual Price\" [(ngModel)]=\"product.productActualPrice\"\n                            name=\"productActualPrice\">\n                    </mat-form-field>\n                    <mat-form-field appearance=\"outline\" class=\"w-100\">\n                        <mat-label>Product Discounted Price</mat-label>\n                        <input matInput placeholder=\"Product Discounted Price\"\n                            [(ngModel)]=\"product.productDiscountedPrice\" name=\"productDiscountedPrice\">\n                    </mat-form-field>\n                    <div align=\"end\">\n                        <button mat-stroked-button color=\"primary\" style=\"margin-right: 3px;\">Clear </button>\n                        <button type=\"submit\" *ngIf=\"isNewProduct\" mat-stroked-button color=\"primary\">Add Product </button>\n                        <button type=\"submit\" *ngIf=\"!isNewProduct\" mat-stroked-button color=\"primary\">Update Product </button>\n                    </div>\n                </form>\n            </div>\n\n            <div class=\"col-6\">\n                <div>\n                    <div class=\"dropzone\"\n                        appDrag\n                        (files)=\"fileDropped($event)\">\n                        <div class=\"text-wrapper\">\n                            <div class=\"centered\">\n                                Drag and drop your file or\n                                <a (click)=\"selectFile.click()\" class=\"browse-button\">browse</a> a file.\n                            </div>\n                        </div>\n                    </div>\n\n                    <input type=\"file\" multiple value=\"select\" style=\"display:none\" #selectFile value=\"select\"\n                        (change)=\"onFileSelected($event)\">\n                </div>\n                <div class=\"mt-5\">\n                    <div class=\"row\">\n                        <mat-grid-list cols=\"2\" rowHeight=\"1:1\">\n                            <mat-grid-tile *ngFor=\"let file of product.productImages;\n                            let i =index;\">\n                                <div style=\"position: relative\">\n                                    <span class=\"btn-remove-image\" (click)=\"removeImages(i)\">x</span>\n                                    <img [src]=\"file.url\" width=\"100px\" height=\"100px\">\n                                </div>\n                            </mat-grid-tile>\n                        </mat-grid-list>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div> -->\n    <div class=\"container mt-5\">\n      <div class=\"card p-2\" style=\"background-color: skyblue\">\n        <div class=\"row\">\n          <div class=\"col-6\">\n            <div class=\"pt-2 px-4 ps-lg-0 pe-xl-5\">\n              <!-- Title-->\n              <div\n                class=\"d-sm-flex flex-wrap justify-content-between align-items-center pb-2\"\n              >\n                <h2 class=\"h3 py-2 me-2 text-center text-sm-start\">\n                  Add New Product\n                </h2>\n                <div class=\"py-2\">\n                  <select class=\"form-select me-2\" id=\"unp-category\" [(ngModel)]=\"selectedOption\" (change)=\"onCategorySelected(selectedOption)\">\n                    <option>Select category</option>\n                    <option *ngFor=\"let item of categoryArr\" [value]=\"item.id\">{{item.categoryName}} \n                    </option>\n                  \n                  </select>\n                \n                </div>\n                <div class=\"py-2\">\n                  <select class=\"form-select me-2\" id=\"unp-category\" [(ngModel)]=\"selectedBrand\" (change)=\"onBrandSelected(selectedBrand)\">\n                    <option>Select Brand</option>\n                    <option *ngFor=\"let item of brandArr\" [value]=\"item.id\">{{item.brandName}} \n                    </option>\n                  \n                  </select>\n                \n                </div>\n              </div>\n              <form [formGroup]=\"productForm\">\n               \n                <div class=\"mb-3 pb-2\">\n                  <label class=\"form-label\" for=\"unp-product-name\"\n                    >Product name</label\n                  >\n                  <input\n                    class=\"form-control\"\n                    type=\"text\"\n                    id=\"unp-product-name\"\n                  formControlName=\"productName\"\n                    name=\"productName\"\n                  />\n                  <div *ngIf=\"productForm.controls['productName'].dirty && productForm.hasError('required','productName')\" class=\"text-danger\">\n                    *Please fill in your product name.\n                  </div>\n                </div>\n    \n                <div class=\"mb-3 py-2\">\n                  <label class=\"form-label\" for=\"unp-product-description\"\n                    >Product description</label\n                  >\n                  <textarea\n                  formControlName=\"productDescription\"\n                    name=\"productDescription\"\n                    class=\"form-control\"\n                    rows=\"6\"\n                    id=\"unp-product-description\"\n                  ></textarea>\n                  <div *ngIf=\"productForm.controls['productDescription'].dirty && productForm.hasError('required','productDescription')\" class=\"text-danger\">\n                    *Please fill in your product description.\n                  </div>\n                  <div class=\"bg-secondary p-3 fs-ms rounded-bottom\">\n                    <span class=\"d-inline-block fw-medium me-2 my-1\"\n                      >Markdown supported:</span\n                    ><em class=\"d-inline-block border-end pe-2 me-2 my-1\"\n                      >*Italic*</em\n                    ><strong class=\"d-inline-block border-end pe-2 me-2 my-1\"\n                      >**Bold**</strong\n                    ><span class=\"d-inline-block border-end pe-2 me-2 my-1\"\n                      >- List item</span\n                    ><span class=\"d-inline-block border-end pe-2 me-2 my-1\"\n                      >##Heading##</span\n                    ><span class=\"d-inline-block\">--- Horizontal rule</span>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <div class=\"col-sm-6 mb-3\">\n                    <label class=\"form-label\" for=\"unp-standard-price\"\n                      >Product Actual Price</label\n                    >\n                    <div class=\"input-group\">\n                      <span class=\"input-group-text\"\n                        ><i class=\"ci-dollar\"></i\n                      ></span>\n                      <input\n                      formControlName=\"productActualPrice\"\n                        name=\"productActualPrice\"\n                        class=\"form-control\"\n                        type=\"text\"\n                        id=\"unp-standard-price\"\n                      />\n                    </div>\n                    <div *ngIf=\"productForm.controls['productActualPrice'].dirty && productForm.hasError('required','productActualPrice')\" class=\"text-danger\">\n                      *Please fill in your product actual price.\n                    </div>\n                    <div class=\"form-text\">\n                      Average marketplace price for this category is $15.\n                    </div>\n                  </div>\n                  <div class=\"col-sm-6 mb-3\">\n                    <label class=\"form-label\" for=\"unp-extended-price\"\n                      >Product Discounted Price</label\n                    >\n                    <div class=\"input-group\">\n                      <span class=\"input-group-text\"\n                        ><i class=\"ci-dollar\"></i\n                      ></span>\n                      <input\n                        formControlName=\"productDiscountedPrice\"\n                        name=\"productDiscountedPrice\"\n                        class=\"form-control\"\n                        type=\"text\"\n                        id=\"unp-extended-price\"\n                      />\n                    </div>\n                    <div *ngIf=\"productForm.controls['productDiscountedPrice'].dirty && productForm.hasError('required','productDiscountedPrice')\" class=\"text-danger\">\n                      *Please fill in your product actual price.\n                    </div>\n                    <div class=\"form-text\">\n                      Typically 10x of the Standard license price.\n                    </div>\n                    \n                  </div>\n                </div>\n    \n                <button class=\"btn btn-primary d-block w-100\" type=\"submit\"\n                (click)=\"addProduct()\">\n                  <i class=\"ci-cloud-upload fs-lg me-2\"></i>Upload Product\n                </button>\n              </form>\n            </div>\n          </div>\n          <div class=\"col-6 mb-3 pt-\">\n            <div>\n              <div class=\"dropzone\" appDrag (files)=\"fileDropped($event)\">\n                <div class=\"text-wrapper\">\n                  <div class=\"centered\">\n                    Drag and drop your file or\n                    <a (click)=\"selectFile.click()\" class=\"browse-button\">browse</a>\n                    a file.\n                  </div>\n                </div>\n              </div>\n    \n              <input\n                type=\"file\"\n                multiple\n                value=\"select\"\n                style=\"display: none\"\n                #selectFile\n                value=\"select\"\n                (change)=\"onFileSelected($event)\"\n              />\n            </div>\n            <div class=\"mt-5\">\n              <div class=\"row\">\n                <mat-grid-list cols=\"2\" rowHeight=\"1:1\">\n                  <mat-grid-tile\n                    *ngFor=\"let file of product.productImages; let i = index\"\n                  >\n                    <div style=\"position: relative\">\n                      <span class=\"btn-remove-image\" (click)=\"removeImages(i)\"\n                        >x</span\n                      >\n                      <img [src]=\"file.url\" width=\"100px\" height=\"100px\" />\n                    </div>\n                  </mat-grid-tile>\n                </mat-grid-list>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}